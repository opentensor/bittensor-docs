<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Components of a Bittensor Model" href="../bittensor/model_components.html" /><link rel="prev" title="Hello, Machines!" href="hello_world.html" />

    <meta name="generator" content="sphinx-3.4.3, furo 2020.12.30.beta24"/>
        <title>Configuration - Bittensor 1 documentation</title>
      <link rel="stylesheet" href="../_static/styles/furo.css?digest=33d2fc4f3f180ec1ffc6524e273e21d7d58cbe49">
    <link rel="stylesheet" href="../_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="../_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" href="../_static/styles/furo-extensions.css?digest=26485485040e7aaf717c13fd0188a5ad2c2deb60">
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script defer="defer" src="../_static/jquery.js"></script>
    <script defer="defer" src="../_static/underscore.js"></script>
    <script defer="defer" src="../_static/doctools.js"></script>
    <script defer src="../_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Bittensor 1 documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Bittensor 1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="hello_world.html">Hello, Machines!</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">Bittensor</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../bittensor/model_components.html">Components of a Bittensor Model</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <div class="section" id="configuration">
<h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<p>Bittensor’s documentation can be set up either through command line arguments or through a YAML file. To save trouble and avoid writing redundant descriptions, we will leave you to look up what each command line argument means.</p>
<p>Alternatively, you can also get a full list of command line arguments by running the <code class="docutils literal notranslate"><span class="pre">--help</span></code> flag on any of the examples. For example,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 examples/mnist.py --help
</pre></div>
</div>
<p>You can also set up your own YAML configuration of Bittensor if you need more extensive runs of Bittensor. Simply create a YAML file and pass it to your training script, for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 examples/mnist.py --neuron.config_file mnist_config.yaml
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">mnist_config.yaml</span></code> is a custom config that you’ve defined.</p>
<blockquote>
<div><p><strong>NOTE</strong>: Your custom config can simply include configs that you care about, it does not need to include every single config for bittensor. Missing configs from the YAML file will simply be defaulted.</p>
</div></blockquote>
<p>An example config file can be as follows for <code class="docutils literal notranslate"><span class="pre">gpt2-wiki.py</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Axon settings</span>
<span class="nt">axon</span><span class="p">:</span>
   <span class="nt">max_gradients</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
   <span class="nt">max_workers</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
   <span class="nt">port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8091</span>

<span class="c1"># Dendrite settings</span>
<span class="-Error"> </span><span class="nt">dendrite</span><span class="p">:</span>
   <span class="nt">do_backoff</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
   <span class="nt">key_dim</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
   <span class="nt">max_backoff</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
   <span class="nt">pass_gradients</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
   <span class="nt">stale_emit_filter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10000</span>
   <span class="nt">timeout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.5</span>
   <span class="nt">topk</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>

<span class="c1"># Metagraph settings (only thing you need to change here is your endpoint)</span>
 <span class="nt">metagraph</span><span class="p">:</span>
   <span class="nt">chain_endpoint</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">localhost:9944</span> <span class="c1"># Production network</span>
   <span class="nt">stale_emit_filter</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10000</span>

 <span class="c1"># Your neuron settings</span>
 <span class="nt">neuron</span><span class="p">:</span>
   <span class="nt">coldkeyfile</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">~/your/path/to/your/wallet/coldkeypub.txt</span> <span class="c1">#~/.bittensor/wallets/kusanagi_adam/coldkeypub.txt</span>
   <span class="nt">hotkeyfile</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">~/your/path/to/your/wallet/hotkeys/default</span>

<span class="c1"># your settings for your training script, where session can be replaced with whatever cmd line arguments you used, see examples/*.py for examples</span>
 <span class="nt">session</span><span class="p">:</span>
   <span class="nt">accumulation_interval</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
   <span class="nt">apply_remote_gradients</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
   <span class="nt">batch_size_train</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">8</span>
   <span class="nt">datapath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">data</span>
   <span class="nt">learning_rate</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.001</span>
   <span class="nt">log_interval</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
   <span class="nt">momentum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.98</span>
   <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Adam</span>
   <span class="nt">sync_interval</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
   <span class="nt">trial_id</span><span class="p">:</span> <span class="s">'1608300539'</span>
   <span class="nt">trial_path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">data/adam/1608300539</span>
   <span class="nt">record_log</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="c1"># your Synapse settings, see bittensor/synapses/*.py for examples on synapse command line arguments. These are</span>
<span class="c1"># typically just model settings like hidden layers, attention heads, etc. </span>
 <span class="nt">synapse</span><span class="p">:</span>
   <span class="nt">activation_function</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">gelu_new</span>
   <span class="nt">attn_pdrop</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>
   <span class="nt">embd_pdrop</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>
   <span class="nt">initializer_range</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.02</span>
   <span class="nt">layer_norm_epsilon</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0e-05</span>
   <span class="nt">n_head</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">16</span>
   <span class="nt">n_inner</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
   <span class="nt">n_layer</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">36</span>
   <span class="nt">resid_pdrop</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>
   <span class="nt">summary_activation</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">null</span>
   <span class="nt">summary_first_dropout</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.1</span>
   <span class="nt">summary_proj_to_labels</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
   <span class="nt">summary_type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cls_index</span>
   <span class="nt">summary_use_proj</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</div>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../bittensor/model_components.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Components of a Bittensor Model</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="hello_world.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Hello, Machines!</div>
                
              </div>
            </a>
        </div>

        <div class="related-information">
              Copyright &#169; 2020, Ala Shaabana, Jacob Steeves, Daniel Attevelt, the Bittensor community
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="../_sources/getting-started/configuration.md.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </main>
</div>
  </body>
</html>